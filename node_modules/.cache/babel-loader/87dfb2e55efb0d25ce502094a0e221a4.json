{"remainingRequest":"/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/node_modules/babel-loader/lib/index.js!/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/src/App.vue","mtime":1644165272302},{"path":"/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/babel.config.js","mtime":1644164865878},{"path":"/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/node_modules/cache-loader/dist/cjs.js","mtime":1644164856547},{"path":"/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/node_modules/babel-loader/lib/index.js","mtime":1644164857550},{"path":"/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/node_modules/cache-loader/dist/cjs.js","mtime":1644164856547},{"path":"/Users/marceltanner/Google Drive/Kreativs/Interaktiv/Self Driving/vue_2_selfdriving/node_modules/vue-loader/lib/index.js","mtime":1644164857852}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJjZWx0YW5uZXIvR29vZ2xlIERyaXZlL0tyZWF0aXZzL0ludGVyYWt0aXYvU2VsZiBEcml2aW5nL3Z1ZV8yX3NlbGZkcml2aW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciB0ZiA9IHJlcXVpcmUoJ0B0ZW5zb3JmbG93L3RmanMnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3R4OiBudWxsLAogICAgICB3b3JsZFdpZHRoOiAyNTYsCiAgICAgIHdvcmxkSGVpZ2h0OiAyNTYsCiAgICAgIGltZ1dvcmxkOiBudWxsLAogICAgICB3b3JsZExvYWRlZDogZmFsc2UsCiAgICAgIGZwczogbnVsbCwKICAgICAgZnBzQ291bnRlcjogbnVsbCwKICAgICAgdGljazogdHJ1ZSwKICAgICAgdGlja1RpbWU6IG51bGwsCiAgICAgIGNhcjogewogICAgICAgIHdpZHRoOiA4LAogICAgICAgIGxlbmd0aDogMTYsCiAgICAgICAgeDogMjU2IC8gMiAqIDAuMzMzLAogICAgICAgIHk6IDI1NiAvIDIsCiAgICAgICAgc3BlZWQ6IDEsCiAgICAgICAgc3RlZXJpbmdTcGVlZDogMC4wMjUsCiAgICAgICAgYW5nbGU6IDAKICAgICAgfSwKICAgICAgdmlld1NpemU6IDQwLAogICAgICB2aWV3UmVkdWN0aW9uOiAzLAogICAgICBpbnB1dFZhbHVlczogW10sCiAgICAgIHRyYWluaW5nOiBmYWxzZSwKICAgICAgbW9kZWw6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcmVkdWNlZFZpZXdTaXplOiBmdW5jdGlvbiByZWR1Y2VkVmlld1NpemUoKSB7CiAgICAgIHZhciByZWR1Y2VkU2l6ZSA9IHRoaXMudmlld1NpemU7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmlld1JlZHVjdGlvbjsgaSsrKSB7CiAgICAgICAgcmVkdWNlZFNpemUgPSByZWR1Y2VkU2l6ZSAvIDI7CiAgICAgIH0KCiAgICAgIHJldHVybiByZWR1Y2VkU2l6ZTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmN0eCA9IHRoaXMuJHJlZnMuY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICB0aGlzLmltZ1dvcmxkID0gbmV3IEltYWdlKHRoaXMud29ybGRXaWR0aCwgdGhpcy53b3JsZEhlaWdodCk7CiAgICB0aGlzLmltZ1dvcmxkLnNyYyA9IHJlcXVpcmUoJy9zcmMvYXNzZXRzL3dvcmxkLmpwZycpOwogICAgdmFyIGFwcCA9IHRoaXM7CgogICAgdGhpcy5pbWdXb3JsZC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGFwcC53b3JsZExvYWRlZCA9IHRydWU7CiAgICB9OwoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleURvd24pOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleVVwKTsKICAgIHRoaXMuY3R4Vmlld1NuYXBzaG90ID0gdGhpcy4kcmVmcy52aWV3U25hcHNob3RDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgIHRoaXMuY3R4Q2FyU25hcHNob3QgPSB0aGlzLiRyZWZzLmNhclNuYXBzaG90Q2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICB0aGlzLmN0eENhciA9IHRoaXMuJHJlZnMuY2FyQ2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICB0aGlzLmN0eFZpZXcgPSB0aGlzLiRyZWZzLnZpZXdDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgIHRoaXMuY3R4Vmlld1JlZHVjZWQgPSB0aGlzLiRyZWZzLnZpZXdDYW52YXNSZWR1Y2VkLmdldENvbnRleHQoIjJkIik7CiAgICB0aGlzLnJlZnJlc2hMb29wKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWZyZXNoTG9vcDogZnVuY3Rpb24gcmVmcmVzaExvb3AoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CgogICAgICAgIGlmIChfdGhpcy50aWNrKSB7CiAgICAgICAgICBfdGhpcy50aWNrVGltZSA9IG5vdzsKICAgICAgICAgIF90aGlzLmZwcyA9IF90aGlzLmZwc0NvdW50ZXI7CiAgICAgICAgICBfdGhpcy5mcHNDb3VudGVyID0gMDsKICAgICAgICAgIF90aGlzLnRpY2sgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZnBzQ291bnRlcisrOwoKICAgICAgICAgIGlmIChub3cgPj0gX3RoaXMudGlja1RpbWUgKyAxMDAwKSB7CiAgICAgICAgICAgIF90aGlzLnRpY2sgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgX3RoaXMuZW50ZXJGcmFtZSgpOwoKICAgICAgICBfdGhpcy5yZWZyZXNoTG9vcCgpOwogICAgICB9KTsKICAgIH0sCiAgICBlbnRlckZyYW1lOiBmdW5jdGlvbiBlbnRlckZyYW1lKCkgewogICAgICBpZiAodGhpcy53b3JsZExvYWRlZCAmJiAhdGhpcy50cmFpbmluZykgewogICAgICAgIHRoaXMuZHJhd1dvcmxkKCk7CiAgICAgICAgdGhpcy5jYWxjdWxhdGUoKTsKICAgICAgICB0aGlzLmRyYXdDYXIoKTsKICAgICAgfQogICAgfSwKICAgIHRyYWluOiBmdW5jdGlvbiB0cmFpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmZWF0dXJlVmFsdWVzVHJhaW5pbmcsIGZlYXR1cmVUZW5zb3JUcmFpbmluZywgbGFiZWxWYWx1ZXNUcmFpbmluZywgbGFiZWxUZW5zb3JUcmFpbmluZywgZmVhdHVyZVZhbHVlc1Rlc3Rpbmc7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLnRyYWluaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGZlYXR1cmVWYWx1ZXNUcmFpbmluZyA9IFtbMC41LCAwLjUsIDAuNV1dOwogICAgICAgICAgICAgICAgZmVhdHVyZVRlbnNvclRyYWluaW5nID0gdGYudGVuc29yMmQoZmVhdHVyZVZhbHVlc1RyYWluaW5nLCBbMSwgM10pOwogICAgICAgICAgICAgICAgbGFiZWxWYWx1ZXNUcmFpbmluZyA9IFtbMC41LCAwLjVdXTsKICAgICAgICAgICAgICAgIGxhYmVsVGVuc29yVHJhaW5pbmcgPSB0Zi50ZW5zb3IyZChsYWJlbFZhbHVlc1RyYWluaW5nLCBbbGFiZWxWYWx1ZXNUcmFpbmluZy5sZW5ndGgsIDJdKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjcmVhdGluZyBtb2RlbCAuLi4iKTsKICAgICAgICAgICAgICAgIF90aGlzMi5tb2RlbCA9IHRmLnNlcXVlbnRpYWwoKTsKCiAgICAgICAgICAgICAgICBfdGhpczIubW9kZWwuYWRkKHRmLmxheWVycy5kZW5zZSh7CiAgICAgICAgICAgICAgICAgIGlucHV0U2hhcGU6IDMsCiAgICAgICAgICAgICAgICAgIGFjdGl2YXRpb246ICJzaWdtb2lkIiwKICAgICAgICAgICAgICAgICAgdW5pdHM6IDUKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICBfdGhpczIubW9kZWwuYWRkKHRmLmxheWVycy5kZW5zZSh7CiAgICAgICAgICAgICAgICAgIGFjdGl2YXRpb246ICJyZWx1IiwKICAgICAgICAgICAgICAgICAgdW5pdHM6IDEwCiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgX3RoaXMyLm1vZGVsLmFkZCh0Zi5sYXllcnMuZGVuc2UoewogICAgICAgICAgICAgICAgICBhY3RpdmF0aW9uOiAic2lnbW9pZCIsCiAgICAgICAgICAgICAgICAgIHVuaXRzOiAyCiAgICAgICAgICAgICAgICB9KSk7IC8vdGhpcy5tb2RlbC5jb21waWxlKHtsb3NzOidiaW5hcnlDcm9zc2VudHJvcHknLG9wdGltaXplcjp0Zi50cmFpbi5ybXNwcm9wKDAuMSksbWV0cmljczpbJ2FjY3VyYWN5J119KTsKCgogICAgICAgICAgICAgICAgX3RoaXMyLm1vZGVsLmNvbXBpbGUoewogICAgICAgICAgICAgICAgICBsb3NzOiAnY2F0ZWdvcmljYWxDcm9zc2VudHJvcHknLAogICAgICAgICAgICAgICAgICBvcHRpbWl6ZXI6IHRmLnRyYWluLmFkYW0oKSwKICAgICAgICAgICAgICAgICAgbWV0cmljczogWydhY2N1cmFjeSddCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnRyYWluTW9kZWwoZmVhdHVyZVRlbnNvclRyYWluaW5nLCBsYWJlbFRlbnNvclRyYWluaW5nKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGZlYXR1cmVWYWx1ZXNUZXN0aW5nID0gW1swLjUsIDAuNSwgMC41XV07IC8vY29uc29sZS5sb2coIGF3YWl0IHRoaXMucHJlZGljdChmZWF0dXJlVmFsdWVzVGVzdGluZykgKTsKCiAgICAgICAgICAgICAgICBfdGhpczIudHJhaW5pbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0cmFpbk1vZGVsOiBmdW5jdGlvbiB0cmFpbk1vZGVsKGZlYXR1cmVUZW5zb3JUcmFpbmluZywgbGFiZWxUZW5zb3JUcmFpbmluZykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX3RoaXMzLm1vZGVsLmZpdChmZWF0dXJlVGVuc29yVHJhaW5pbmcsIGxhYmVsVGVuc29yVHJhaW5pbmcsIHsKICAgICAgICAgICAgICAgICAgZXBvY2hzOiAxMCwKICAgICAgICAgICAgICAgICAgLy92YWxpZGF0aW9uU3BsaXQ6IDAuMiwKICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7CiAgICAgICAgICAgICAgICAgICAgb25FcG9jaEVuZDogZnVuY3Rpb24gb25FcG9jaEVuZChlcG9jaCkgewogICAgICAgICAgICAgICAgICAgICAgLy9wcmVkaWN0KCBmZWF0dXJlVmFsdWVzVGVzdGluZ1swXSApOwogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVwb2NoICIgKyBlcG9jaCk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvblRyYWluRW5kOiBmdW5jdGlvbiBvblRyYWluRW5kKCkgewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImRvbmUiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcHJlZGljdDogZnVuY3Rpb24gcHJlZGljdChpbnB1dCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgdGYudGlkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpbnB1dFRlbnNvciA9IHRmLnRlbnNvcjJkKFtpbnB1dF0sIFsxLCAzXSk7CgogICAgICAgICAgICAgICAgICB2YXIgb3V0cHV0VGVuc29yID0gX3RoaXM0Lm1vZGVsLnByZWRpY3QoaW5wdXRUZW5zb3IpOwoKICAgICAgICAgICAgICAgICAgdmFyIG91dHB1dFZhbHVlID0gb3V0cHV0VGVuc29yLmRhdGFTeW5jKCk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXRWYWx1ZTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2FsY3VsYXRlOiBmdW5jdGlvbiBjYWxjdWxhdGUoKSB7CiAgICAgIGlmICh0aGlzLmNhci5zdGVlcmluZykgewogICAgICAgIGlmICh0aGlzLmNhci5zdGVlcmluZyA9PT0gImxlZnQiKSB7CiAgICAgICAgICB0aGlzLmNhci5hbmdsZSAtPSB0aGlzLmNhci5zdGVlcmluZ1NwZWVkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNhci5hbmdsZSArPSB0aGlzLmNhci5zdGVlcmluZ1NwZWVkOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jYXIueCArPSBNYXRoLnNpbih0aGlzLmNhci5hbmdsZSkgKiB0aGlzLmNhci5zcGVlZDsKICAgICAgdGhpcy5jYXIueSAtPSBNYXRoLmNvcyh0aGlzLmNhci5hbmdsZSkgKiB0aGlzLmNhci5zcGVlZDsKICAgIH0sCiAgICBkcmF3V29ybGQ6IGZ1bmN0aW9uIGRyYXdXb3JsZCgpIHsKICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY3R4LmNhbnZhcy53aWR0aCwgdGhpcy5jdHguY2FudmFzLmhlaWdodCk7CiAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZSh0aGlzLmltZ1dvcmxkLCAwLCAwLCB0aGlzLmN0eC5jYW52YXMud2lkdGgsIHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQpOwogICAgfSwKICAgIGNvbXBvbmVudFRvSGV4OiBmdW5jdGlvbiBjb21wb25lbnRUb0hleChjKSB7CiAgICAgIHZhciBoZXggPSBjLnRvU3RyaW5nKDE2KTsKICAgICAgcmV0dXJuIGhleC5sZW5ndGggPT0gMSA/ICIwIiArIGhleCA6IGhleDsKICAgIH0sCiAgICByZ2JUb0hleDogZnVuY3Rpb24gcmdiVG9IZXgociwgZywgYikgewogICAgICByZXR1cm4gIiMiICsgdGhpcy5jb21wb25lbnRUb0hleChyKSArIHRoaXMuY29tcG9uZW50VG9IZXgoZykgKyB0aGlzLmNvbXBvbmVudFRvSGV4KGIpOwogICAgfSwKICAgIHJlZHVjZVBpeGVsczogZnVuY3Rpb24gcmVkdWNlUGl4ZWxzKHBpeGVscywgc2l6ZSkgewogICAgICAvLyByZWR1Y2UgcmVzb2x1dGlvbgogICAgICB2YXIgcGl4ZWxzUmVkdWNlZCA9IFtdOwoKICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzaXplOyB5ICs9IDIpIHsKICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHNpemU7IHggKz0gMikgewogICAgICAgICAgdmFyIHBpeGVsSW5kZXhlcyA9IFt5ICogc2l6ZSArIHgsIHkgKiBzaXplICsgeCArIDEsICh5ICsgMSkgKiBzaXplICsgeCwgKHkgKyAxKSAqIHNpemUgKyB4ICsgMV07CiAgICAgICAgICB2YXIgdG90YWxSID0gMDsKICAgICAgICAgIHZhciB0b3RhbEcgPSAwOwogICAgICAgICAgdmFyIHRvdGFsQiA9IDA7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbEluZGV4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdG90YWxSICs9IHBpeGVsc1twaXhlbEluZGV4ZXNbaV1dWzBdOwogICAgICAgICAgICB0b3RhbEcgKz0gcGl4ZWxzW3BpeGVsSW5kZXhlc1tpXV1bMV07CiAgICAgICAgICAgIHRvdGFsQiArPSBwaXhlbHNbcGl4ZWxJbmRleGVzW2ldXVsyXTsKICAgICAgICAgIH0KCiAgICAgICAgICB0b3RhbFIgPSBNYXRoLnJvdW5kKHRvdGFsUiAvIHBpeGVsSW5kZXhlcy5sZW5ndGgpOwogICAgICAgICAgdG90YWxHID0gTWF0aC5yb3VuZCh0b3RhbEcgLyBwaXhlbEluZGV4ZXMubGVuZ3RoKTsKICAgICAgICAgIHRvdGFsQiA9IE1hdGgucm91bmQodG90YWxCIC8gcGl4ZWxJbmRleGVzLmxlbmd0aCk7CiAgICAgICAgICBwaXhlbHNSZWR1Y2VkLnB1c2goW3RvdGFsUiwgdG90YWxHLCB0b3RhbEJdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBwaXhlbHNSZWR1Y2VkOwogICAgfSwKICAgIGRyYXdDYXI6IGZ1bmN0aW9uIGRyYXdDYXIoKSB7CiAgICAgIC8vIGdldCBjYXIgaW1hZ2UKICAgICAgdGhpcy5zbmFwc2hvdFdoZXJlQ2FySXMgPSB0aGlzLmN0eC5nZXRJbWFnZURhdGEodGhpcy5jYXIueCAtIHRoaXMuY3R4Q2FyU25hcHNob3QuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jYXIueSAtIHRoaXMuY3R4Q2FyU25hcHNob3QuY2FudmFzLmhlaWdodCAvIDIsIHRoaXMuY3R4Q2FyU25hcHNob3QuY2FudmFzLndpZHRoLCB0aGlzLmN0eENhclNuYXBzaG90LmNhbnZhcy5oZWlnaHQpOyAvLyByZWFkIHBpeGVscwoKICAgICAgdmFyIGNhclNuYXBzaG90UGl4ZWxzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc25hcHNob3RXaGVyZUNhcklzLmRhdGEubGVuZ3RoOyBpICs9IDQpIHsKICAgICAgICB2YXIgciA9IHRoaXMuc25hcHNob3RXaGVyZUNhcklzLmRhdGFbaV07CiAgICAgICAgdmFyIGcgPSB0aGlzLnNuYXBzaG90V2hlcmVDYXJJcy5kYXRhW2kgKyAxXTsKICAgICAgICB2YXIgYiA9IHRoaXMuc25hcHNob3RXaGVyZUNhcklzLmRhdGFbaSArIDJdOwogICAgICAgIGNhclNuYXBzaG90UGl4ZWxzLnB1c2goW3IsIGcsIGJdKTsKICAgICAgfSAvLyBkcmF3IHJvdGF0ZWQgaW1hZ2UKCgogICAgICB0aGlzLmN0eENhclNuYXBzaG90LnNhdmUoKTsKICAgICAgdGhpcy5jdHhDYXJTbmFwc2hvdC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jdHhDYXJTbmFwc2hvdC5jYW52YXMud2lkdGgsIHRoaXMuY3R4Q2FyU25hcHNob3QuY2FudmFzLmhlaWdodCk7CiAgICAgIHRoaXMuY3R4Q2FyU25hcHNob3QudHJhbnNsYXRlKHRoaXMuY3R4Q2FyU25hcHNob3QuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jdHhDYXJTbmFwc2hvdC5jYW52YXMuaGVpZ2h0IC8gMik7CiAgICAgIHRoaXMuY3R4Q2FyU25hcHNob3Qucm90YXRlKC10aGlzLmNhci5hbmdsZSk7CiAgICAgIHRoaXMuY3R4Q2FyU25hcHNob3QudHJhbnNsYXRlKC10aGlzLmN0eENhclNuYXBzaG90LmNhbnZhcy53aWR0aCAvIDIsIC10aGlzLmN0eENhclNuYXBzaG90LmNhbnZhcy5oZWlnaHQgLyAyKTsKCiAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy5jdHhDYXJTbmFwc2hvdC5jYW52YXMuaGVpZ2h0OyB5KyspIHsKICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMuY3R4Q2FyU25hcHNob3QuY2FudmFzLndpZHRoOyB4KyspIHsKICAgICAgICAgIHZhciBwaXhlbEluZGV4ID0geSAqIHRoaXMuY3R4Q2FyU25hcHNob3QuY2FudmFzLndpZHRoICsgeDsKICAgICAgICAgIHZhciBjb2xvciA9IHRoaXMucmdiVG9IZXgoY2FyU25hcHNob3RQaXhlbHNbcGl4ZWxJbmRleF1bMF0sIGNhclNuYXBzaG90UGl4ZWxzW3BpeGVsSW5kZXhdWzFdLCBjYXJTbmFwc2hvdFBpeGVsc1twaXhlbEluZGV4XVsyXSk7CiAgICAgICAgICB0aGlzLmN0eENhclNuYXBzaG90LmZpbGxTdHlsZSA9IGNvbG9yOwogICAgICAgICAgdGhpcy5jdHhDYXJTbmFwc2hvdC5maWxsUmVjdCh4LCB5LCAxLjUsIDEuNSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmN0eENhclNuYXBzaG90LnJlc3RvcmUoKTsgLy8gZ2V0IGNhciBpbWFnZQoKICAgICAgdGhpcy5pbWdXaGVyZUNhcklzID0gdGhpcy5jdHhDYXJTbmFwc2hvdC5nZXRJbWFnZURhdGEodGhpcy5jdHhDYXJTbmFwc2hvdC5jYW52YXMud2lkdGggLyAyIC0gdGhpcy5jdHhDYXIuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jdHhDYXJTbmFwc2hvdC5jYW52YXMuaGVpZ2h0IC8gMiAtIHRoaXMuY3R4Q2FyLmNhbnZhcy5oZWlnaHQgLyAyLCB0aGlzLmN0eENhci5jYW52YXMud2lkdGgsIHRoaXMuY3R4Q2FyLmNhbnZhcy5oZWlnaHQpOwogICAgICB0aGlzLmN0eENhci5wdXRJbWFnZURhdGEodGhpcy5pbWdXaGVyZUNhcklzLCAwLCAwKTsgLy8gcmVhZCBwaXhlbHMKCiAgICAgIHZhciB0b3RhbFIgPSAwOwogICAgICB2YXIgdG90YWxHID0gMDsKICAgICAgdmFyIHRvdGFsQiA9IDA7CgogICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5pbWdXaGVyZUNhcklzLmRhdGEubGVuZ3RoOyBfaSArPSA0KSB7CiAgICAgICAgdG90YWxSICs9IHRoaXMuaW1nV2hlcmVDYXJJcy5kYXRhW19pXTsKICAgICAgICB0b3RhbEcgKz0gdGhpcy5pbWdXaGVyZUNhcklzLmRhdGFbX2kgKyAxXTsKICAgICAgICB0b3RhbEIgKz0gdGhpcy5pbWdXaGVyZUNhcklzLmRhdGFbX2kgKyAyXTsKICAgICAgfQoKICAgICAgdG90YWxSID0gTWF0aC5yb3VuZCh0b3RhbFIgLyAodGhpcy5pbWdXaGVyZUNhcklzLmRhdGEubGVuZ3RoIC8gNCkpOwogICAgICB0b3RhbEcgPSBNYXRoLnJvdW5kKHRvdGFsRyAvICh0aGlzLmltZ1doZXJlQ2FySXMuZGF0YS5sZW5ndGggLyA0KSk7CiAgICAgIHRvdGFsQiA9IE1hdGgucm91bmQodG90YWxCIC8gKHRoaXMuaW1nV2hlcmVDYXJJcy5kYXRhLmxlbmd0aCAvIDQpKTsKCiAgICAgIGlmICh0b3RhbFIgKyB0b3RhbEcgKyB0b3RhbEIgPCA3NjApIHsKICAgICAgICBjb25zb2xlLmxvZygiY29sbGlzaW9uIik7CiAgICAgICAgdGhpcy5pbnB1dFZhbHVlcyA9IFtdOwogICAgICAgIHRoaXMucmVzdGFydCgpOwogICAgICAgIHRoaXMudHJhaW4oKTsKICAgICAgfSAvLyB2aWV3CgoKICAgICAgdmFyIHZpZXdYID0gdGhpcy5jYXIueCArIE1hdGguc2luKHRoaXMuY2FyLmFuZ2xlKSAqICh0aGlzLmNhci5sZW5ndGggLyAyICsgdGhpcy52aWV3U2l6ZSAvIDIpOwogICAgICB2YXIgdmlld1kgPSB0aGlzLmNhci55IC0gTWF0aC5jb3ModGhpcy5jYXIuYW5nbGUpICogKHRoaXMuY2FyLmxlbmd0aCAvIDIgKyB0aGlzLnZpZXdTaXplIC8gMik7IC8vIGdldCB2aWV3IGltYWdlCgogICAgICB0aGlzLnNuYXBzaG90V2hlcmVWaWV3SXMgPSB0aGlzLmN0eC5nZXRJbWFnZURhdGEodmlld1ggLSB0aGlzLmN0eFZpZXdTbmFwc2hvdC5jYW52YXMud2lkdGggLyAyLCB2aWV3WSAtIHRoaXMuY3R4Vmlld1NuYXBzaG90LmNhbnZhcy5oZWlnaHQgLyAyLCB0aGlzLmN0eFZpZXdTbmFwc2hvdC5jYW52YXMud2lkdGgsIHRoaXMuY3R4Vmlld1NuYXBzaG90LmNhbnZhcy5oZWlnaHQpOyAvLyByZWFkIHBpeGVscwoKICAgICAgdmFyIHZpZXdTbmFwc2hvdFBpeGVscyA9IFtdOwoKICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdGhpcy5zbmFwc2hvdFdoZXJlVmlld0lzLmRhdGEubGVuZ3RoOyBfaTIgKz0gNCkgewogICAgICAgIHZhciBfciA9IHRoaXMuc25hcHNob3RXaGVyZVZpZXdJcy5kYXRhW19pMl07CiAgICAgICAgdmFyIF9nID0gdGhpcy5zbmFwc2hvdFdoZXJlVmlld0lzLmRhdGFbX2kyICsgMV07CiAgICAgICAgdmFyIF9iID0gdGhpcy5zbmFwc2hvdFdoZXJlVmlld0lzLmRhdGFbX2kyICsgMl07CiAgICAgICAgdmlld1NuYXBzaG90UGl4ZWxzLnB1c2goW19yLCBfZywgX2JdKTsKICAgICAgfSAvLyBkcmF3IHJvdGF0ZWQgaW1hZ2UKCgogICAgICB0aGlzLmN0eFZpZXdTbmFwc2hvdC5zYXZlKCk7CiAgICAgIHRoaXMuY3R4Vmlld1NuYXBzaG90LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmN0eFZpZXdTbmFwc2hvdC5jYW52YXMud2lkdGgsIHRoaXMuY3R4Vmlld1NuYXBzaG90LmNhbnZhcy5oZWlnaHQpOwogICAgICB0aGlzLmN0eFZpZXdTbmFwc2hvdC50cmFuc2xhdGUodGhpcy5jdHhWaWV3U25hcHNob3QuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jdHhWaWV3U25hcHNob3QuY2FudmFzLmhlaWdodCAvIDIpOwogICAgICB0aGlzLmN0eFZpZXdTbmFwc2hvdC5yb3RhdGUoLXRoaXMuY2FyLmFuZ2xlKTsKICAgICAgdGhpcy5jdHhWaWV3U25hcHNob3QudHJhbnNsYXRlKC10aGlzLmN0eFZpZXdTbmFwc2hvdC5jYW52YXMud2lkdGggLyAyLCAtdGhpcy5jdHhWaWV3U25hcHNob3QuY2FudmFzLmhlaWdodCAvIDIpOwoKICAgICAgZm9yICh2YXIgX3kgPSAwOyBfeSA8IHRoaXMuY3R4Vmlld1NuYXBzaG90LmNhbnZhcy5oZWlnaHQ7IF95KyspIHsKICAgICAgICBmb3IgKHZhciBfeCA9IDA7IF94IDwgdGhpcy5jdHhWaWV3U25hcHNob3QuY2FudmFzLndpZHRoOyBfeCsrKSB7CiAgICAgICAgICB2YXIgX3BpeGVsSW5kZXggPSBfeSAqIHRoaXMuY3R4Vmlld1NuYXBzaG90LmNhbnZhcy53aWR0aCArIF94OwoKICAgICAgICAgIHZhciBfY29sb3IgPSB0aGlzLnJnYlRvSGV4KHZpZXdTbmFwc2hvdFBpeGVsc1tfcGl4ZWxJbmRleF1bMF0sIHZpZXdTbmFwc2hvdFBpeGVsc1tfcGl4ZWxJbmRleF1bMV0sIHZpZXdTbmFwc2hvdFBpeGVsc1tfcGl4ZWxJbmRleF1bMl0pOwoKICAgICAgICAgIHRoaXMuY3R4Vmlld1NuYXBzaG90LmZpbGxTdHlsZSA9IF9jb2xvcjsKICAgICAgICAgIHRoaXMuY3R4Vmlld1NuYXBzaG90LmZpbGxSZWN0KF94LCBfeSwgMS41LCAxLjUpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jdHhWaWV3U25hcHNob3QucmVzdG9yZSgpOyAvLyBnZXQgdmlldyBpbWFnZQoKICAgICAgdGhpcy5pbWdXaGVyZVZpZXdJcyA9IHRoaXMuY3R4Vmlld1NuYXBzaG90LmdldEltYWdlRGF0YSh0aGlzLmN0eFZpZXdTbmFwc2hvdC5jYW52YXMud2lkdGggLyAyIC0gdGhpcy5jdHhWaWV3LmNhbnZhcy53aWR0aCAvIDIsIHRoaXMuY3R4Vmlld1NuYXBzaG90LmNhbnZhcy5oZWlnaHQgLyAyIC0gdGhpcy5jdHhWaWV3LmNhbnZhcy5oZWlnaHQgLyAyLCB0aGlzLmN0eFZpZXcuY2FudmFzLndpZHRoLCB0aGlzLmN0eFZpZXcuY2FudmFzLmhlaWdodCk7CiAgICAgIHRoaXMuY3R4Vmlldy5wdXRJbWFnZURhdGEodGhpcy5pbWdXaGVyZVZpZXdJcywgMCwgMCk7IC8vIHJlYWQgcGl4ZWxzCgogICAgICB2YXIgdmlld1BpeGVscyA9IFtdOwoKICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgdGhpcy5pbWdXaGVyZVZpZXdJcy5kYXRhLmxlbmd0aDsgX2kzICs9IDQpIHsKICAgICAgICB2YXIgX3IyID0gdGhpcy5pbWdXaGVyZVZpZXdJcy5kYXRhW19pM107CiAgICAgICAgdmFyIF9nMiA9IHRoaXMuaW1nV2hlcmVWaWV3SXMuZGF0YVtfaTMgKyAxXTsKICAgICAgICB2YXIgX2IyID0gdGhpcy5pbWdXaGVyZVZpZXdJcy5kYXRhW19pMyArIDJdOwogICAgICAgIHZpZXdQaXhlbHMucHVzaChbX3IyLCBfZzIsIF9iMl0pOwogICAgICB9CgogICAgICB2YXIgdmlld1BpeGVsc1JlZHVjZWQgPSB2aWV3UGl4ZWxzOwoKICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgdGhpcy52aWV3UmVkdWN0aW9uOyBfaTQrKykgewogICAgICAgIHZpZXdQaXhlbHNSZWR1Y2VkID0gdGhpcy5yZWR1Y2VQaXhlbHModmlld1BpeGVsc1JlZHVjZWQsIE1hdGguc3FydCh2aWV3UGl4ZWxzUmVkdWNlZC5sZW5ndGgpKTsKICAgICAgfQoKICAgICAgdGhpcy5pbnB1dFZhbHVlcy51bnNoaWZ0KHZpZXdQaXhlbHNSZWR1Y2VkKTsKICAgICAgdGhpcy5pbnB1dFZhbHVlcyA9IHRoaXMuaW5wdXRWYWx1ZXMuc2xpY2UoMCwgMTYpOyAvLyBkcmF3IHJlZHVjZWQgdmlldwoKICAgICAgZm9yICh2YXIgX3kyID0gMDsgX3kyIDwgdGhpcy5jdHhWaWV3UmVkdWNlZC5jYW52YXMuaGVpZ2h0OyBfeTIrKykgewogICAgICAgIGZvciAodmFyIF94MiA9IDA7IF94MiA8IHRoaXMuY3R4Vmlld1JlZHVjZWQuY2FudmFzLndpZHRoOyBfeDIrKykgewogICAgICAgICAgdmFyIF9waXhlbEluZGV4MiA9IF95MiAqIHRoaXMuY3R4Vmlld1JlZHVjZWQuY2FudmFzLndpZHRoICsgX3gyOwoKICAgICAgICAgIHZhciBfY29sb3IyID0gdGhpcy5yZ2JUb0hleCh2aWV3UGl4ZWxzUmVkdWNlZFtfcGl4ZWxJbmRleDJdWzBdLCB2aWV3UGl4ZWxzUmVkdWNlZFtfcGl4ZWxJbmRleDJdWzFdLCB2aWV3UGl4ZWxzUmVkdWNlZFtfcGl4ZWxJbmRleDJdWzJdKTsKCiAgICAgICAgICB0aGlzLmN0eFZpZXdSZWR1Y2VkLmZpbGxTdHlsZSA9IF9jb2xvcjI7CiAgICAgICAgICB0aGlzLmN0eFZpZXdSZWR1Y2VkLmZpbGxSZWN0KF94MiwgX3kyLCAxLjUsIDEuNSk7CiAgICAgICAgfQogICAgICB9IC8vIGRyYXcgY2FyCgoKICAgICAgdGhpcy5jdHguc2F2ZSgpOwogICAgICB0aGlzLmN0eC50cmFuc2xhdGUodGhpcy5jYXIueCwgdGhpcy5jYXIueSk7CiAgICAgIHRoaXMuY3R4LnJvdGF0ZSh0aGlzLmNhci5hbmdsZSk7CiAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtdGhpcy5jYXIueCwgLXRoaXMuY2FyLnkpOwogICAgICB0aGlzLmN0eC5maWxsUmVjdCh0aGlzLmNhci54IC0gdGhpcy5jYXIud2lkdGggLyAyLCB0aGlzLmNhci55IC0gdGhpcy5jYXIubGVuZ3RoIC8gMiwgdGhpcy5jYXIud2lkdGgsIHRoaXMuY2FyLmxlbmd0aCk7CiAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTsKICAgICAgLyoKICAgICAgIC8vIGRyYXcgdmlldyBzbmFwc2hvdCByZWN0CiAgICAgIHRoaXMuY3R4LnNhdmUoKTsKICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAiI2ZmMDAwMCI7CiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpOwogICAgICB0aGlzLmN0eC5yZWN0KCB2aWV3WCAtdGhpcy5jdHhWaWV3U25hcHNob3QuY2FudmFzLndpZHRoLzIsIHZpZXdZIC10aGlzLmN0eFZpZXdTbmFwc2hvdC5jYW52YXMuaGVpZ2h0LzIsIHRoaXMuY3R4Vmlld1NuYXBzaG90LmNhbnZhcy53aWR0aCwgdGhpcy5jdHhWaWV3U25hcHNob3QuY2FudmFzLmhlaWdodCApOwogICAgICB0aGlzLmN0eC5zdHJva2UoKTsKICAgICAgdGhpcy5jdHgucmVzdG9yZSgpOwogICAgICAqLwogICAgICAvLyBkcmF3IHZpZXcgcmVjdAoKICAgICAgdGhpcy5jdHguc2F2ZSgpOwogICAgICB0aGlzLmN0eC50cmFuc2xhdGUodmlld1gsIHZpZXdZKTsKICAgICAgdGhpcy5jdHgucm90YXRlKHRoaXMuY2FyLmFuZ2xlKTsKICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKC12aWV3WCwgLXZpZXdZKTsKICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAiI2ZmMDAwMCI7CiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpOwogICAgICB0aGlzLmN0eC5yZWN0KHZpZXdYIC0gdGhpcy5jdHhWaWV3LmNhbnZhcy53aWR0aCAvIDIsIHZpZXdZIC0gdGhpcy5jdHhWaWV3LmNhbnZhcy5oZWlnaHQgLyAyLCB0aGlzLmN0eFZpZXcuY2FudmFzLndpZHRoLCB0aGlzLmN0eFZpZXcuY2FudmFzLmhlaWdodCk7CiAgICAgIHRoaXMuY3R4LnN0cm9rZSgpOwogICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7CiAgICB9LAogICAgcmVzdGFydDogZnVuY3Rpb24gcmVzdGFydCgpIHsKICAgICAgY29uc29sZS5sb2coInJlc3RhcnQgIik7CiAgICAgIHRoaXMuY2FyLnggPSB0aGlzLndvcmxkV2lkdGggLyAyICogMC4zMzM7CiAgICAgIHRoaXMuY2FyLnkgPSB0aGlzLndvcmxkSGVpZ2h0IC8gMjsKICAgICAgdGhpcy5jYXIuYW5nbGUgPSAwOwogICAgfSwKICAgIGtleURvd246IGZ1bmN0aW9uIGtleURvd24oZSkgewogICAgICBpZiAoZS5jb2RlID09PSAiQXJyb3dMZWZ0IikgewogICAgICAgIHRoaXMuY2FyLnN0ZWVyaW5nID0gImxlZnQiOwogICAgICB9IGVsc2UgaWYgKGUuY29kZSA9PT0gIkFycm93UmlnaHQiKSB7CiAgICAgICAgdGhpcy5jYXIuc3RlZXJpbmcgPSAicmlnaHQiOwogICAgICB9CiAgICB9LAogICAga2V5VXA6IGZ1bmN0aW9uIGtleVVwKGUpIHsKICAgICAgaWYgKGUuY29kZSA9PT0gIkFycm93TGVmdCIpIHsKICAgICAgICB0aGlzLmNhci5zdGVlcmluZyA9IHVuZGVmaW5lZDsKICAgICAgfSBlbHNlIGlmIChlLmNvZGUgPT09ICJBcnJvd1JpZ2h0IikgewogICAgICAgIHRoaXMuY2FyLnN0ZWVyaW5nID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAcA;;AAEA;AACAA,aADA;AAEAC,MAFA,kBAEA;AACA;AACAC,eADA;AAEAC,qBAFA;AAGAC,sBAHA;AAIAC,oBAJA;AAKAC,wBALA;AAMAC,eANA;AAOAC,sBAPA;AAQAC,gBARA;AASAC,oBATA;AAUAC;AACAC,gBADA;AAEAC,kBAFA;AAGAC,0BAHA;AAIAC,kBAJA;AAKAC,gBALA;AAMAC,4BANA;AAOAC;AAPA,OAVA;AAmBAC,kBAnBA;AAoBAC,sBApBA;AAqBAC,qBArBA;AAsBAC,qBAtBA;AAuBAC;AAvBA;AAyBA,GA5BA;AA6BAC;AACAC,mBADA,6BACA;AACA;;AACA;AACAC;AACA;;AACA;AACA;AAPA,GA7BA;AAsCAC,SAtCA,qBAsCA;AACA;AACA;AACA;AACA;;AACA;AACAC;AACA,KAFA;;AAGAC;AACAA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA,GAzDA;AA0DAC;AACAC,eADA,yBACA;AAAA;;AACAC;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAMA;AACA;;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,OAlBA;AAmBA,KArBA;AAsBAC,cAtBA,wBAsBA;AACA;AACA;AACA;AACA;AACA;AACA,KA5BA;AA6BAC,SA7BA,mBA6BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEAC,qCAHA,GAGA,iBAHA;AAIAC,qCAJA,GAIAC,0CAJA;AAMAC,mCANA,GAMA,YANA;AAOAC,mCAPA,GAOAF,iEAPA;AASAG;AACA;;AACA;AAAAC;AAAAC;AAAAC;AAAA;;AACA;AAAAD;AAAAC;AAAA;;AACA;AAAAD;AAAAC;AAAA,oBAbA,CAcA;;;AACA;AAAAC;AAAAC;AAAAC;AAAA;;AAfA;AAAA,uBAiBA,6DAjBA;;AAAA;AAmBAC,oCAnBA,GAmBA,iBAnBA,EAoBA;;AAEA;;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA,KApDA;AAqDAC,cArDA,sBAqDAZ,qBArDA,EAqDAG,mBArDA,EAqDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDACA;AACAU,4BADA;AAEA;AACAC;AACAC;AACA;AACAX;AACA,qBAJA;AAKAY;AACAZ;AACA;AAPA;AAHA,kBADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA,KAnEA;AAoEAa,WApEA,mBAoEAC,KApEA,EAoEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDACAjB;AACA;;AACA;;AACA;AAEA;AACA,iBANA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KA5EA;AA6EAkB,aA7EA,uBA6EA;AACA;AACA;AACA;AACA,SAFA,MAGA;AACA;AACA;AACA;;AACA;AACA;AACA,KAxFA;AAyFAC,aAzFA,uBAyFA;AACA;AACA;AACA,KA5FA;AA6FAC,kBA7FA,0BA6FAC,CA7FA,EA6FA;AACA;AACA;AACA,KAhGA;AAiGAC,YAjGA,oBAiGAC,CAjGA,EAiGAC,CAjGA,EAiGAC,CAjGA,EAiGA;AACA;AACA,KAnGA;AAoGAC,gBApGA,wBAoGAC,MApGA,EAoGAC,IApGA,EAoGA;AACA;AACA;;AACA;AACA;AACA,8BACAlD,YADA,EAEAA,gBAFA,EAGA,kBAHA,EAIA,sBAJA;AAOA;AACA;AACA;;AACA;AACAmD;AACAC;AACAC;AACA;;AACAF;AACAC;AACAC;AACAC;AACA;AACA;;AACA;AACA,KA/HA;AAgIAC,WAhIA,qBAgIA;AAEA;AACA,kOAHA,CAKA;;AACA;;AACA;AACA;AACA;AACA;AAEAC;AACA,OAbA,CAeA;;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,oCA7BA,CAgCA;;AACA;AACA,yDAlCA,CAqCA;;AACA;AACA;AACA;;AACA;AACAL;AACAC;AACAC;AACA;;AACAF;AACAC;AACAC;;AACA;AACA5B;AAEA;AACA;AAGA;AAEA,OA1DA,CA+DA;;;AAEA;AACA,oGAlEA,CAqEA;;AACA,6NAtEA,CAwEA;;AACA;;AACA;AACA;AACA;AACA;AAEAgC;AACA,OAhFA,CAmFA;;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA,qCAjGA,CAmGA;;AACA;AACA,2DArGA,CAuGA;;AACA;;AACA;AACA;AACA;AACA;AACAC;AACA;;AAGA;;AACA;AACAC;AACA;;AAEA;AACA,uDAvHA,CAyHA;;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA,OAjIA,CAoIA;;;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,KApSA;AAqSAC,WArSA,qBAqSA;AACAnC;AACA;AACA;AACA;AACA,KA1SA;AA2SAoC,WA3SA,mBA2SAC,CA3SA,EA2SA;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA;AACA,KAlTA;AAmTAC,SAnTA,iBAmTAD,CAnTA,EAmTA;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA;AACA;AA1TA;AA1DA","names":["name","data","ctx","worldWidth","worldHeight","imgWorld","worldLoaded","fps","fpsCounter","tick","tickTime","car","width","length","x","y","speed","steeringSpeed","angle","viewSize","viewReduction","inputValues","training","model","computed","reducedViewSize","reducedSize","mounted","app","document","methods","refreshLoop","window","enterFrame","train","featureValuesTraining","featureTensorTraining","tf","labelValuesTraining","labelTensorTraining","console","inputShape","activation","units","loss","optimizer","metrics","featureValuesTesting","trainModel","epochs","callbacks","onEpochEnd","onTrainEnd","predict","input","calculate","drawWorld","componentToHex","c","rgbToHex","r","g","b","reducePixels","pixels","size","totalR","totalG","totalB","pixelsReduced","drawCar","carSnapshotPixels","viewSnapshotPixels","viewPixels","viewPixelsReduced","restart","keyDown","e","keyUp"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div class=\"world\">\n    <canvas ref=\"canvas\" :width=\"worldWidth\" :height=\"worldHeight\"></canvas>\n  </div>\n  <canvas class=\"car-snapshot-canvas\" ref=\"carSnapshotCanvas\" :width=\"car.length*1.5\" :height=\"car.length*1.5\"></canvas>\n  <canvas class=\"view-snapshot-canvas\" ref=\"viewSnapshotCanvas\" :width=\"viewSize*1.5\" :height=\"viewSize*1.5\"></canvas>\n  <canvas class=\"car-canvas\" ref=\"carCanvas\" :width=\"car.width\" :height=\"car.length\"></canvas>\n  <canvas class=\"view-canvas\" ref=\"viewCanvas\" :width=\"viewSize\" :height=\"viewSize\"></canvas>\n  <canvas class=\"view-canvas-reduced\" ref=\"viewCanvasReduced\" :width=\"reducedViewSize\" :height=\"reducedViewSize\"></canvas>\n  <span class=\"fps\">{{ fps }} fps</span>\n</template>\n\n<script>\n\nconst tf = require('@tensorflow/tfjs');\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      ctx: null,\n      worldWidth: 256,\n      worldHeight: 256,\n      imgWorld: null,\n      worldLoaded: false,\n      fps: null,\n      fpsCounter: null,\n      tick: true,\n      tickTime: null,\n      car: {\n        width: 8,\n        length: 16,\n        x: 256 / 2 * 0.333,\n        y: 256 / 2,\n        speed: 1,\n        steeringSpeed: 0.025,\n        angle: 0\n      },\n      viewSize: 40,\n      viewReduction: 3,\n      inputValues: [],\n      training: false,\n      model: null\n    }\n  },\n  computed: {\n    reducedViewSize() {\n      let reducedSize = this.viewSize;\n      for( let i = 0; i < this.viewReduction; i++ ) {\n        reducedSize = reducedSize / 2;\n      }\n      return reducedSize;\n    }\n  },\n  mounted() {\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\n    this.imgWorld = new Image(this.worldWidth,this.worldHeight);\n    this.imgWorld.src = require('/src/assets/world.jpg');\n    const app = this;\n    this.imgWorld.onload = function() {\n      app.worldLoaded = true;\n    }\n    document.addEventListener('keydown', this.keyDown);\n    document.addEventListener('keyup', this.keyUp);\n\n    this.ctxViewSnapshot = this.$refs.viewSnapshotCanvas.getContext(\"2d\");\n    this.ctxCarSnapshot = this.$refs.carSnapshotCanvas.getContext(\"2d\");\n\n    this.ctxCar = this.$refs.carCanvas.getContext(\"2d\");\n    this.ctxView = this.$refs.viewCanvas.getContext(\"2d\");\n    this.ctxViewReduced = this.$refs.viewCanvasReduced.getContext(\"2d\");\n\n    this.refreshLoop();\n  },\n  methods: {\n    refreshLoop() {\n      window.requestAnimationFrame(() => {\n        const now = performance.now();\n        if( this.tick ) {\n          this.tickTime = now;\n          this.fps = this.fpsCounter;\n          this.fpsCounter = 0;\n          this.tick = false;\n        }\n        else {\n          this.fpsCounter++;\n          if( now >= this.tickTime + 1000 ) {\n            this.tick = true;\n          }\n        }\n\n        this.enterFrame();\n\n        this.refreshLoop();\n      });\n    },\n    enterFrame() {\n      if( this.worldLoaded && !this.training ) {\n        this.drawWorld();\n        this.calculate();\n        this.drawCar();\n      }\n    },\n    async train() {\n      this.training = true;\n\n      const featureValuesTraining =  [ [0.5,0.5,0.5] ];\n      const featureTensorTraining = tf.tensor2d( featureValuesTraining, [1, 3] );\n\n      const labelValuesTraining =  [ [0.5,0.5] ];\n      const labelTensorTraining = tf.tensor2d( labelValuesTraining, [labelValuesTraining.length, 2] );\n\n      console.log(\"creating model ...\");\n      this.model = tf.sequential();\n      this.model.add(tf.layers.dense({inputShape: 3, activation: \"sigmoid\", units: 5}));\n      this.model.add(tf.layers.dense({activation: \"relu\", units: 10}));\n      this.model.add(tf.layers.dense({activation: \"sigmoid\", units: 2}));\n      //this.model.compile({loss:'binaryCrossentropy',optimizer:tf.train.rmsprop(0.1),metrics:['accuracy']});\n      this.model.compile({loss:'categoricalCrossentropy',optimizer:tf.train.adam(),metrics:['accuracy']});\n\n      await this.trainModel( featureTensorTraining, labelTensorTraining );\n\n      const featureValuesTesting =  [ [0.5,0.5,0.5] ];\n      //console.log( await this.predict(featureValuesTesting) );\n\n      this.training = false;\n    },\n    async trainModel( featureTensorTraining, labelTensorTraining ) {\n      return this.model.fit( featureTensorTraining, labelTensorTraining, {\n        epochs: 10,\n        //validationSplit: 0.2,\n        callbacks: {\n          onEpochEnd: function(epoch) {\n            //predict( featureValuesTesting[0] );\n            console.log(\"epoch \"+epoch)\n          },\n          onTrainEnd: function() {\n            console.log(\"done\");\n          }\n        }\n      });\n    },\n    async predict( input ) {\n      return tf.tidy( () => {\n        const inputTensor = tf.tensor2d([input],[1, 3]);\n        const outputTensor = this.model.predict( inputTensor );\n        const outputValue = outputTensor.dataSync();\n\n        return outputValue;\n      });\n    },\n    calculate() {\n      if( this.car.steering ) {\n        if( this.car.steering === \"left\" ) {\n          this.car.angle -= this.car.steeringSpeed;\n        }\n        else {\n          this.car.angle += this.car.steeringSpeed;\n        }\n      }\n      this.car.x += Math.sin( this.car.angle ) *this.car.speed;\n      this.car.y -= Math.cos( this.car.angle ) *this.car.speed;\n    },\n    drawWorld() {\n      this.ctx.clearRect( 0, 0, this.ctx.canvas.width, this.ctx.canvas.height );\n      this.ctx.drawImage( this.imgWorld, 0, 0, this.ctx.canvas.width, this.ctx.canvas.height );\n    },\n    componentToHex(c) {\n      var hex = c.toString(16);\n      return hex.length == 1 ? \"0\" + hex : hex;\n    },\n    rgbToHex(r, g, b) {\n      return \"#\" + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b);\n    },\n    reducePixels(pixels,size) {\n      // reduce resolution\n      let pixelsReduced = [];\n      for( let y = 0; y < size; y+=2 ) {\n        for( let x = 0; x < size; x+=2 ) {\n          const pixelIndexes = [\n            y*size + x,\n            y*size + x +1,\n            (y+1)*size + x,\n            (y+1)*size + x +1,\n          ];\n\n          let totalR = 0;\n          let totalG = 0;\n          let totalB = 0;\n          for( let i = 0; i < pixelIndexes.length; i++ ) {\n            totalR += pixels[pixelIndexes[i]][0];\n            totalG += pixels[pixelIndexes[i]][1];\n            totalB += pixels[pixelIndexes[i]][2];\n          }\n          totalR = Math.round( totalR / pixelIndexes.length );\n          totalG = Math.round( totalG / pixelIndexes.length );\n          totalB = Math.round( totalB / pixelIndexes.length );\n          pixelsReduced.push( [totalR,totalG,totalB] );\n        }\n      }\n      return pixelsReduced;\n    },\n    drawCar() {\n\n      // get car image\n      this.snapshotWhereCarIs = this.ctx.getImageData( this.car.x - this.ctxCarSnapshot.canvas.width/2, this.car.y - this.ctxCarSnapshot.canvas.height/2, this.ctxCarSnapshot.canvas.width, this.ctxCarSnapshot.canvas.height );\n\n      // read pixels\n      let carSnapshotPixels = [];\n      for( let i = 0; i < this.snapshotWhereCarIs.data.length; i += 4 ) {\n        const r = this.snapshotWhereCarIs.data[i];\n        const g = this.snapshotWhereCarIs.data[i+1];\n        const b = this.snapshotWhereCarIs.data[i+2];\n\n        carSnapshotPixels.push( [r,g,b] );\n      }\n\n      // draw rotated image\n      this.ctxCarSnapshot.save();\n      this.ctxCarSnapshot.clearRect( 0, 0, this.ctxCarSnapshot.canvas.width, this.ctxCarSnapshot.canvas.height );\n      this.ctxCarSnapshot.translate( this.ctxCarSnapshot.canvas.width/2, this.ctxCarSnapshot.canvas.height/2 );\n      this.ctxCarSnapshot.rotate( -this.car.angle );\n      this.ctxCarSnapshot.translate( -this.ctxCarSnapshot.canvas.width/2, -this.ctxCarSnapshot.canvas.height/2 );\n      for( let y = 0; y < this.ctxCarSnapshot.canvas.height; y++ ) {\n        for( let x = 0; x < this.ctxCarSnapshot.canvas.width; x++ ) {\n          const pixelIndex = y*this.ctxCarSnapshot.canvas.width + x;\n          const color = this.rgbToHex( carSnapshotPixels[pixelIndex][0], carSnapshotPixels[pixelIndex][1], carSnapshotPixels[pixelIndex][2] );\n          this.ctxCarSnapshot.fillStyle = color;\n          this.ctxCarSnapshot.fillRect( x, y, 1.5, 1.5 );\n        }\n      }\n      this.ctxCarSnapshot.restore();\n\n\n      // get car image\n      this.imgWhereCarIs = this.ctxCarSnapshot.getImageData( this.ctxCarSnapshot.canvas.width/2 - this.ctxCar.canvas.width/2, this.ctxCarSnapshot.canvas.height/2 - this.ctxCar.canvas.height/2, this.ctxCar.canvas.width, this.ctxCar.canvas.height );\n      this.ctxCar.putImageData(this.imgWhereCarIs, 0, 0);\n\n\n      // read pixels\n      let totalR = 0;\n      let totalG = 0;\n      let totalB = 0;\n      for( let i = 0; i < this.imgWhereCarIs.data.length; i += 4 ) {\n        totalR += this.imgWhereCarIs.data[i];\n        totalG += this.imgWhereCarIs.data[i+1];\n        totalB += this.imgWhereCarIs.data[i+2];\n      }\n      totalR = Math.round( totalR / (this.imgWhereCarIs.data.length /4) );\n      totalG = Math.round( totalG / (this.imgWhereCarIs.data.length /4) );\n      totalB = Math.round( totalB / (this.imgWhereCarIs.data.length /4) );\n      if( totalR + totalG + totalB < 760 ) {\n        console.log(\"collision\");\n\n        this.inputValues = [];\n        this.restart();\n\n\n        this.train();\n\n      }\n\n\n\n\n      // view\n\n      const viewX = this.car.x + Math.sin( this.car.angle ) * (this.car.length/2+this.viewSize/2);\n      const viewY = this.car.y - Math.cos( this.car.angle ) * (this.car.length/2+this.viewSize/2);\n\n\n      // get view image\n      this.snapshotWhereViewIs = this.ctx.getImageData( viewX - this.ctxViewSnapshot.canvas.width/2, viewY - this.ctxViewSnapshot.canvas.height/2, this.ctxViewSnapshot.canvas.width, this.ctxViewSnapshot.canvas.height );\n\n      // read pixels\n      let viewSnapshotPixels = [];\n      for( let i = 0; i < this.snapshotWhereViewIs.data.length; i += 4 ) {\n        const r = this.snapshotWhereViewIs.data[i];\n        const g = this.snapshotWhereViewIs.data[i+1];\n        const b = this.snapshotWhereViewIs.data[i+2];\n\n        viewSnapshotPixels.push( [r,g,b] );\n      }\n\n\n      // draw rotated image\n      this.ctxViewSnapshot.save();\n      this.ctxViewSnapshot.clearRect( 0, 0, this.ctxViewSnapshot.canvas.width, this.ctxViewSnapshot.canvas.height );\n      this.ctxViewSnapshot.translate( this.ctxViewSnapshot.canvas.width/2, this.ctxViewSnapshot.canvas.height/2 );\n      this.ctxViewSnapshot.rotate( -this.car.angle );\n      this.ctxViewSnapshot.translate( -this.ctxViewSnapshot.canvas.width/2, -this.ctxViewSnapshot.canvas.height/2 );\n      for( let y = 0; y < this.ctxViewSnapshot.canvas.height; y++ ) {\n        for( let x = 0; x < this.ctxViewSnapshot.canvas.width; x++ ) {\n          const pixelIndex = y*this.ctxViewSnapshot.canvas.width + x;\n          const color = this.rgbToHex( viewSnapshotPixels[pixelIndex][0], viewSnapshotPixels[pixelIndex][1], viewSnapshotPixels[pixelIndex][2] );\n          this.ctxViewSnapshot.fillStyle = color;\n          this.ctxViewSnapshot.fillRect( x, y, 1.5, 1.5 );\n        }\n      }\n      this.ctxViewSnapshot.restore();\n\n      // get view image\n      this.imgWhereViewIs = this.ctxViewSnapshot.getImageData( this.ctxViewSnapshot.canvas.width/2 - this.ctxView.canvas.width/2, this.ctxViewSnapshot.canvas.height/2 - this.ctxView.canvas.height/2, this.ctxView.canvas.width, this.ctxView.canvas.height );\n      this.ctxView.putImageData(this.imgWhereViewIs, 0, 0);\n\n      // read pixels\n      let viewPixels = [];\n      for( let i = 0; i < this.imgWhereViewIs.data.length; i += 4 ) {\n        const r = this.imgWhereViewIs.data[i];\n        const g = this.imgWhereViewIs.data[i+1];\n        const b = this.imgWhereViewIs.data[i+2];\n        viewPixels.push( [r,g,b] );\n      }\n\n\n      let viewPixelsReduced = viewPixels;\n      for( let i = 0; i < this.viewReduction; i++ ) {\n        viewPixelsReduced = this.reducePixels( viewPixelsReduced, Math.sqrt(viewPixelsReduced.length) );\n      }\n\n      this.inputValues.unshift(viewPixelsReduced);\n      this.inputValues = this.inputValues.slice(0,16);\n\n      // draw reduced view\n      for( let y = 0; y < this.ctxViewReduced.canvas.height; y++ ) {\n        for( let x = 0; x < this.ctxViewReduced.canvas.width; x++ ) {\n          const pixelIndex = y*this.ctxViewReduced.canvas.width + x;\n          const color = this.rgbToHex( viewPixelsReduced[pixelIndex][0], viewPixelsReduced[pixelIndex][1], viewPixelsReduced[pixelIndex][2] );\n          this.ctxViewReduced.fillStyle = color;\n          this.ctxViewReduced.fillRect( x, y, 1.5, 1.5 );\n        }\n      }\n\n\n      // draw car\n      this.ctx.save();\n      this.ctx.translate( this.car.x, this.car.y );\n      this.ctx.rotate( this.car.angle );\n      this.ctx.translate( -this.car.x, -this.car.y );\n      this.ctx.fillRect( this.car.x -this.car.width/2, this.car.y -this.car.length/2, this.car.width, this.car.length );\n      this.ctx.restore();\n\n\n      /*\n\n      // draw view snapshot rect\n      this.ctx.save();\n      this.ctx.strokeStyle = \"#ff0000\";\n      this.ctx.beginPath();\n      this.ctx.rect( viewX -this.ctxViewSnapshot.canvas.width/2, viewY -this.ctxViewSnapshot.canvas.height/2, this.ctxViewSnapshot.canvas.width, this.ctxViewSnapshot.canvas.height );\n      this.ctx.stroke();\n      this.ctx.restore();\n      */\n\n\n      // draw view rect\n      this.ctx.save();\n      this.ctx.translate( viewX, viewY );\n      this.ctx.rotate( this.car.angle );\n      this.ctx.translate( -viewX, -viewY );\n      this.ctx.strokeStyle = \"#ff0000\";\n      this.ctx.beginPath();\n      this.ctx.rect( viewX -this.ctxView.canvas.width/2, viewY -this.ctxView.canvas.height/2, this.ctxView.canvas.width, this.ctxView.canvas.height );\n      this.ctx.stroke();\n      this.ctx.restore();\n\n    },\n    restart() {\n      console.log( \"restart \");\n      this.car.x = this.worldWidth / 2 * 0.333;\n      this.car.y = this.worldHeight / 2;\n      this.car.angle = 0;\n    },\n    keyDown(e) {\n      if( e.code === \"ArrowLeft\" ) {\n        this.car.steering = \"left\";\n      }\n      else if( e.code === \"ArrowRight\" ) {\n        this.car.steering = \"right\";\n      }\n    },\n    keyUp(e) {\n      if( e.code === \"ArrowLeft\" ) {\n        this.car.steering = undefined;\n      }\n      else if( e.code === \"ArrowRight\" ) {\n        this.car.steering = undefined;\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\nbody {\n  margin: 0;\n  height: 100vh;\n  font-family: sans-serif;\n}\n#app {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: black;\n}\n\n.world {\n  position: relative;\n  width: 50%;\n  height: 0;\n  padding-top: 50%;\n  canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n}\n\n\n.car-snapshot-canvas {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  border: 1px solid white;\n  image-rendering: pixelated;\n  width: 10%;\n  display: none;\n}\n.car-canvas {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n  border: 1px solid white;\n  image-rendering: pixelated;\n  width: 15%;\n  display: none;\n}\n.view-snapshot-canvas {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  border: 1px solid white;\n  image-rendering: pixelated;\n  width: 10%;\n  display: none;\n}\n.view-canvas {\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n  border: 1px solid white;\n  image-rendering: pixelated;\n  width: 10%;\n  display: none;\n}\n.view-canvas-reduced {\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n  border: 1px solid white;\n  image-rendering: pixelated;\n  width: 15%;\n}\n\n\n\n.fps {\n  position: absolute;\n  top: 8px;\n  left: 50%;\n  color: #333333;\n}\n\n</style>\n"]}]}