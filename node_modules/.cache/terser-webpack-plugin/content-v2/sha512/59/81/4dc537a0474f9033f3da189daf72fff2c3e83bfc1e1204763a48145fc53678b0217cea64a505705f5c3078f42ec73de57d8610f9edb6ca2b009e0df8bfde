{"map":"{\"version\":3,\"sources\":[\"js/app.2c441e7e.js\"],\"names\":[\"modules\",\"webpackJsonpCallback\",\"data\",\"moduleId\",\"chunkId\",\"chunkIds\",\"moreModules\",\"executeModules\",\"i\",\"resolves\",\"length\",\"Object\",\"prototype\",\"hasOwnProperty\",\"call\",\"installedChunks\",\"push\",\"parentJsonpFunction\",\"shift\",\"deferredModules\",\"apply\",\"checkDeferredModules\",\"result\",\"deferredModule\",\"fulfilled\",\"j\",\"depId\",\"splice\",\"__webpack_require__\",\"s\",\"installedModules\",\"app\",\"exports\",\"module\",\"l\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"p\",\"jsonpArray\",\"window\",\"oldJsonpFunction\",\"slice\",\"0\",\"1\",\"2\",\"3\",\"3251\",\"4\",\"5\",\"56d7\",\"__webpack_exports__\",\"vue_runtime_esm\",\"Appvue_type_template_id_6982ea94_render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"attrs\",\"id\",\"staticClass\",\"ref\",\"width\",\"worldWidth\",\"height\",\"worldHeight\",\"_v\",\"_s\",\"trainingProgress\",\"_e\",\"car\",\"viewSize\",\"reducedViewSize\",\"fps\",\"_l\",\"highscore\",\"index\",\"score\",\"staticRenderFns\",\"toConsumableArray\",\"asyncToGenerator\",\"tf\",\"Appvue_type_script_lang_js_\",\"ctx\",\"imgWorld\",\"worldLoaded\",\"fpsCounter\",\"tick\",\"tickTime\",\"x\",\"y\",\"speed\",\"steeringSpeed\",\"angle\",\"viewReduction\",\"viewReducedSize\",\"viewPixels\",\"steering\",\"samples\",\"samplesMaxLength\",\"lastScore\",\"highscores\",\"highscoreMaxLength\",\"training\",\"model\",\"computed\",\"reducedSize\",\"mounted\",\"$refs\",\"canvas\",\"getContext\",\"Image\",\"src\",\"onload\",\"document\",\"addEventListener\",\"keyDown\",\"keyUp\",\"ctxViewSnapshot\",\"viewSnapshotCanvas\",\"ctxCarSnapshot\",\"carSnapshotCanvas\",\"ctxCar\",\"carCanvas\",\"ctxView\",\"viewCanvas\",\"ctxViewReduced\",\"viewCanvasReduced\",\"console\",\"log\",\"sequential\",\"add\",\"layers\",\"dense\",\"inputShape\",\"activation\",\"units\",\"compile\",\"loss\",\"optimizer\",\"train\",\"rmsprop\",\"metrics\",\"refreshLoop\",\"methods\",\"_this\",\"regeneratorRuntime\",\"mark\",\"_callee\",\"highscoreSamples\",\"featureValuesTraining\",\"labelValuesTraining\",\"_i\",\"featureValueTraining\",\"featureTensorTraining\",\"labelTensorTraining\",\"wrap\",\"_context\",\"prev\",\"next\",\"sort\",\"Math\",\"random\",\"state\",\"reward\",\"action\",\"tensor2d\",\"trainModel\",\"round\",\"stop\",\"epochs\",\"_this2\",\"_callee2\",\"_context2\",\"abrupt\",\"fit\",\"callbacks\",\"onEpochEnd\",\"epoch\",\"onTrainEnd\",\"predict\",\"input\",\"_this3\",\"_callee3\",\"_context3\",\"tidy\",\"inputTensor\",\"outputTensor\",\"outputValue\",\"dataSync\",\"getSteering\",\"_this4\",\"_callee4\",\"_context4\",\"testingDataInput\",\"prediction\",\"sent\",\"max\",\"_this5\",\"requestAnimationFrame\",\"now\",\"performance\",\"enterFrame\",\"drawWorld\",\"getView\",\"moveCar\",\"then\",\"min\",\"randomisation\",\"referenceScore\",\"randomisedValue\",\"steeringStrength\",\"_steeringStrength\",\"sin\",\"cos\",\"checkCarCollision\",\"viewX\",\"viewY\",\"snapshotWhereViewIs\",\"getImageData\",\"viewSnapshotPixels\",\"g\",\"b\",\"save\",\"clearRect\",\"translate\",\"rotate\",\"pixelIndex\",\"color\",\"rgbToHex\",\"fillStyle\",\"fillRect\",\"restore\",\"imgWhereViewIs\",\"putImageData\",\"_i2\",\"_r\",\"_g\",\"_b\",\"previousTotalBrightness\",\"viewPixelsReduced\",\"_i3\",\"reducePixels\",\"sqrt\",\"_y\",\"_x\",\"_pixelIndex\",\"_color\",\"unshift\",\"totalBrightness\",\"_i4\",\"brightness\",\"brightnessChange\",\"abs\",\"snapshotWhereCarIs\",\"carSnapshotPixels\",\"imgWhereCarIs\",\"drawCarAndViewSquare\",\"totalR\",\"totalG\",\"totalB\",\"_i5\",\"undefined\",\"resetCar\",\"a\",\"strokeStyle\",\"beginPath\",\"rect\",\"stroke\",\"componentToHex\",\"hex\",\"toString\",\"pixels\",\"size\",\"pixelsReduced\",\"pixelIndexes\",\"drawImage\",\"src_Appvue_type_script_lang_js_\",\"componentNormalizer\",\"component\",\"App\",\"config\",\"productionTip\",\"render\",\"h\",\"$mount\",\"5c0b\",\"6\",\"7\",\"8\",\"9c0c\"],\"mappings\":\"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\"}","code":"(function(t){function e(e){for(var s,n,h=e[0],c=e[1],o=e[2],d=0,u=[];d<h.length;d++)n=h[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(u.length)u.shift()();return r.push.apply(r,o||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,h=1;h<i.length;h++){var c=i[h];0!==a[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var s={},a={app:0},r=[];function n(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/selfdriving/\";var h=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[],c=h.push.bind(h);h.push=e,h=h.slice();for(var o=0;o<h.length;o++)e(h[o]);var l=c;r.push([0,\"chunk-vendors\"]),i()})({0:function(t,e,i){t.exports=i(\"56d7\")},1:function(t,e){},2:function(t,e){},3:function(t,e){},3251:function(t,e,i){t.exports=i.p+\"img/world3.1400e9f6.jpg\"},4:function(t,e){},5:function(t,e){},\"56d7\":function(t,e,i){\"use strict\";i.r(e);i(\"e260\"),i(\"e6cf\"),i(\"cca6\"),i(\"a79d\");var s=i(\"2b0e\"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{attrs:{id:\"app\"}},[i(\"div\",{staticClass:\"world\"},[i(\"canvas\",{ref:\"canvas\",attrs:{width:t.worldWidth,height:t.worldHeight}}),t.training?i(\"div\",{staticClass:\"training\"},[i(\"span\",[t._v(\"training\"),i(\"br\"),t._v(t._s(t.trainingProgress)+\"%\")])]):t._e()]),i(\"canvas\",{ref:\"carSnapshotCanvas\",staticClass:\"car-snapshot-canvas\",attrs:{width:1.5*t.car.length,height:1.5*t.car.length}}),i(\"canvas\",{ref:\"viewSnapshotCanvas\",staticClass:\"view-snapshot-canvas\",attrs:{width:1.5*t.viewSize,height:1.5*t.viewSize}}),i(\"canvas\",{ref:\"carCanvas\",staticClass:\"car-canvas\",attrs:{width:t.car.width,height:t.car.length}}),i(\"canvas\",{ref:\"viewCanvas\",staticClass:\"view-canvas\",attrs:{width:t.viewSize,height:t.viewSize}}),i(\"canvas\",{ref:\"viewCanvasReduced\",staticClass:\"view-canvas-reduced\",attrs:{width:t.reducedViewSize,height:t.reducedViewSize}}),i(\"span\",{staticClass:\"fps\"},[t._v(t._s(t.fps)+\" fps\")]),i(\"div\",{staticClass:\"highscores\"},[i(\"label\",[t._v(\"Highscores\")]),i(\"ul\",t._l(t.highscores,(function(e,s){return i(\"li\",{key:s},[t._v(t._s(e.score))])})),0)])])},r=[],n=i(\"2909\"),h=i(\"1da1\"),c=(i(\"96cf\"),i(\"4e82\"),i(\"fb6a\"),i(\"d3b7\"),i(\"25f0\"),i(\"ce1a\")),o={name:\"App\",data:function(){return{ctx:null,worldWidth:256,worldHeight:256,imgWorld:null,worldLoaded:!1,fps:null,fpsCounter:null,tick:!0,tickTime:null,car:{width:8,length:16,x:42.624,y:192,speed:1,steeringSpeed:.025,angle:0},viewSize:32,viewReduction:3,viewReducedSize:null,viewPixels:null,steering:null,samples:[],samplesMaxLength:256,score:0,lastScore:null,highscores:[],highscoreMaxLength:5,training:!1,trainingProgress:0,model:null}},computed:{reducedViewSize:function(){for(var t=this.viewSize,e=0;e<this.viewReduction;e++)t/=2;return t}},mounted:function(){this.ctx=this.$refs.canvas.getContext(\"2d\"),this.imgWorld=new Image(this.worldWidth,this.worldHeight),this.imgWorld.src=i(\"3251\");var t=this;this.imgWorld.onload=function(){t.worldLoaded=!0},document.addEventListener(\"keydown\",this.keyDown),document.addEventListener(\"keyup\",this.keyUp),this.ctxViewSnapshot=this.$refs.viewSnapshotCanvas.getContext(\"2d\"),this.ctxCarSnapshot=this.$refs.carSnapshotCanvas.getContext(\"2d\"),this.ctxCar=this.$refs.carCanvas.getContext(\"2d\"),this.ctxView=this.$refs.viewCanvas.getContext(\"2d\"),this.ctxViewReduced=this.$refs.viewCanvasReduced.getContext(\"2d\"),console.log(\"creating model ...\"),this.viewReducedSize=this.viewSize;for(var e=0;e<this.viewReduction;e++)this.viewReducedSize=this.viewReducedSize/2;this.model=c.sequential(),this.model.add(c.layers.dense({inputShape:this.viewReducedSize*this.viewReducedSize+1,activation:\"sigmoid\",units:5})),this.model.add(c.layers.dense({activation:\"relu\",units:10})),this.model.add(c.layers.dense({activation:\"sigmoid\",units:1})),this.model.compile({loss:\"binaryCrossentropy\",optimizer:c.train.rmsprop(.1),metrics:[\"accuracy\"]}),this.refreshLoop()},methods:{train:function(){var t=this;return Object(h[\"a\"])(regeneratorRuntime.mark((function e(){var i,s,a,r,h,o,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.training=!0,i=[],s=0;s<t.highscores.length;s++)i.push.apply(i,Object(n[\"a\"])(t.highscores[s].samples));for(i.sort((function(){return.5-Math.random()})),console.log(\"total number of samples: \"+i.length),a=[],r=[],h=0;h<i.length;h++)o=Object(n[\"a\"])(i[h].state),o.push(i[h].reward),a.push(o),r.push(i[h].action);return l=c.tensor2d(a,[a.length,a[0].length]),d=c.tensor2d(r,[r.length,1]),console.log(\"train model ...\"),e.next=13,t.trainModel(l,d,Math.round(i.length/10));case 13:t.training=!1,t.trainingProgress=0;case 15:case\"end\":return e.stop()}}),e)})))()},trainModel:function(t,e,i){var s=this;return Object(h[\"a\"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=s,a.abrupt(\"return\",s.model.fit(t,e,{epochs:i,callbacks:{onEpochEnd:function(t){r.trainingProgress=Math.round(t/i*100)},onTrainEnd:function(){console.log(\"done\")}}}));case 2:case\"end\":return a.stop()}}),a)})))()},predict:function(t){var e=this;return Object(h[\"a\"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt(\"return\",c.tidy((function(){var i=c.tensor2d([t],[1,e.viewReducedSize*e.viewReducedSize+1]),s=e.model.predict(i),a=s.dataSync();return a})));case 1:case\"end\":return i.stop()}}),i)})))()},getSteering:function(){var t=this;return Object(h[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.predict(t.testingDataInput);case 2:return t.prediction=e.sent,t.prediction=Math.max(0,t.prediction),e.abrupt(\"return\",t.prediction);case 5:case\"end\":return e.stop()}}),e)})))()},refreshLoop:function(){var t=this;window.requestAnimationFrame((function(){var e=performance.now();t.tick?(t.tickTime=e,t.fps=t.fpsCounter,t.fpsCounter=0,t.tick=!1):(t.fpsCounter++,e>=t.tickTime+1e3&&(t.tick=!0)),t.enterFrame(),t.refreshLoop()}))},enterFrame:function(){this.worldLoaded&&!this.training&&(this.drawWorld(),this.getView(),this.moveCar())},moveCar:function(){this.testingDataInput=Object(n[\"a\"])(this.viewPixels),this.testingDataInput.push(1);var t=this;this.getSteering().then((function(e){e=Math.min(e,1),e=Math.max(e,0),console.log(\"predicted steering: \"+e);var i,s=Math.random();if(t.lastScore){var a=Math.max(t.highscores[0].score,500);i=1-t.lastScore/a}else i=1;console.log(\"randomisation: \"+i);var r=e-.5*i+s*i*1;if(r=Math.min(r,1),r=Math.max(r,0),t.car.steering=r,console.log(\"new steering: \"+r),t.car.steering<.5){var n=2*(.5-t.car.steering);t.car.angle-=t.car.steeringSpeed*n}else if(t.car.steering>.5){var h=2*(t.car.steering-.5);t.car.angle+=t.car.steeringSpeed*h}t.car.x+=Math.sin(t.car.angle)*t.car.speed,t.car.y-=Math.cos(t.car.angle)*t.car.speed,t.checkCarCollision()}))},getView:function(){this.car.viewX=this.car.x+Math.sin(this.car.angle)*(this.car.length/2+this.viewSize/2),this.car.viewY=this.car.y-Math.cos(this.car.angle)*(this.car.length/2+this.viewSize/2),this.snapshotWhereViewIs=this.ctx.getImageData(this.car.viewX-this.ctxViewSnapshot.canvas.width/2,this.car.viewY-this.ctxViewSnapshot.canvas.height/2,this.ctxViewSnapshot.canvas.width,this.ctxViewSnapshot.canvas.height);for(var t=[],e=0;e<this.snapshotWhereViewIs.data.length;e+=4){var i=this.snapshotWhereViewIs.data[e],s=this.snapshotWhereViewIs.data[e+1],a=this.snapshotWhereViewIs.data[e+2];t.push([i,s,a])}this.ctxViewSnapshot.save(),this.ctxViewSnapshot.clearRect(0,0,this.ctxViewSnapshot.canvas.width,this.ctxViewSnapshot.canvas.height),this.ctxViewSnapshot.translate(this.ctxViewSnapshot.canvas.width/2,this.ctxViewSnapshot.canvas.height/2),this.ctxViewSnapshot.rotate(-this.car.angle),this.ctxViewSnapshot.translate(-this.ctxViewSnapshot.canvas.width/2,-this.ctxViewSnapshot.canvas.height/2);for(var r=0;r<this.ctxViewSnapshot.canvas.height;r++)for(var n=0;n<this.ctxViewSnapshot.canvas.width;n++){var h=r*this.ctxViewSnapshot.canvas.width+n,c=this.rgbToHex(t[h][0],t[h][1],t[h][2]);this.ctxViewSnapshot.fillStyle=c,this.ctxViewSnapshot.fillRect(n,r,1.5,1.5)}this.ctxViewSnapshot.restore(),this.imgWhereViewIs=this.ctxViewSnapshot.getImageData(this.ctxViewSnapshot.canvas.width/2-this.ctxView.canvas.width/2,this.ctxViewSnapshot.canvas.height/2-this.ctxView.canvas.height/2,this.ctxView.canvas.width,this.ctxView.canvas.height),this.ctxView.putImageData(this.imgWhereViewIs,0,0);for(var o=[],l=0;l<this.imgWhereViewIs.data.length;l+=4){var d=this.imgWhereViewIs.data[l],u=this.imgWhereViewIs.data[l+1],g=this.imgWhereViewIs.data[l+2];o.push([d,u,g])}for(var p,v=o,w=0;w<this.viewReduction;w++)v=this.reducePixels(v,Math.sqrt(v.length));for(var x=0;x<this.ctxViewReduced.canvas.height;x++)for(var f=0;f<this.ctxViewReduced.canvas.width;f++){var m=x*this.ctxViewReduced.canvas.width+f,S=this.rgbToHex(v[m][0],v[m][1],v[m][2]);this.ctxViewReduced.fillStyle=S,this.ctxViewReduced.fillRect(f,x,1.5,1.5)}this.viewPixels&&(this.samples.unshift({state:this.viewPixels,action:this.car.steering}),this.samples=this.samples.slice(0,this.samplesMaxLength),p=this.totalBrightness),this.viewPixels=[],this.totalBrightness=0;for(var C=0;C<v.length;C++){var V=(v[C][0]+v[C][1]+v[C][2])/765;this.viewPixels.push(V),this.totalBrightness+=V}if(this.totalBrightness=this.totalBrightness/this.viewPixels.length,this.samples.length){var b,y=this.totalBrightness-p;b=y>0?1:.25-Math.min(.25,Math.abs(y)/p),this.samples[0].reward=b}},checkCarCollision:function(){this.snapshotWhereCarIs=this.ctx.getImageData(this.car.x-this.ctxCarSnapshot.canvas.width/2,this.car.y-this.ctxCarSnapshot.canvas.height/2,this.ctxCarSnapshot.canvas.width,this.ctxCarSnapshot.canvas.height);for(var t=[],e=0;e<this.snapshotWhereCarIs.data.length;e+=4){var i=this.snapshotWhereCarIs.data[e],s=this.snapshotWhereCarIs.data[e+1],a=this.snapshotWhereCarIs.data[e+2];t.push([i,s,a])}this.ctxCarSnapshot.save(),this.ctxCarSnapshot.clearRect(0,0,this.ctxCarSnapshot.canvas.width,this.ctxCarSnapshot.canvas.height),this.ctxCarSnapshot.translate(this.ctxCarSnapshot.canvas.width/2,this.ctxCarSnapshot.canvas.height/2),this.ctxCarSnapshot.rotate(-this.car.angle),this.ctxCarSnapshot.translate(-this.ctxCarSnapshot.canvas.width/2,-this.ctxCarSnapshot.canvas.height/2);for(var r=0;r<this.ctxCarSnapshot.canvas.height;r++)for(var h=0;h<this.ctxCarSnapshot.canvas.width;h++){var c=r*this.ctxCarSnapshot.canvas.width+h,o=this.rgbToHex(t[c][0],t[c][1],t[c][2]);this.ctxCarSnapshot.fillStyle=o,this.ctxCarSnapshot.fillRect(h,r,1.5,1.5)}this.ctxCarSnapshot.restore(),this.imgWhereCarIs=this.ctxCarSnapshot.getImageData(this.ctxCarSnapshot.canvas.width/2-this.ctxCar.canvas.width/2,this.ctxCarSnapshot.canvas.height/2-this.ctxCar.canvas.height/2,this.ctxCar.canvas.width,this.ctxCar.canvas.height),this.ctxCar.putImageData(this.imgWhereCarIs,0,0),this.drawCarAndViewSquare();for(var l=0,d=0,u=0,g=0;g<this.imgWhereCarIs.data.length;g+=4)l+=this.imgWhereCarIs.data[g],d+=this.imgWhereCarIs.data[g+1],u+=this.imgWhereCarIs.data[g+2];l=Math.round(l/(this.imgWhereCarIs.data.length/4)),d=Math.round(d/(this.imgWhereCarIs.data.length/4)),u=Math.round(u/(this.imgWhereCarIs.data.length/4)),l+d+u<760?(console.log(\"collision!\"),this.viewPixels=null,this.car.steering=void 0,this.resetCar(),this.samples[0].reward=0,(this.highscores.length<this.highscoreMaxLength||this.score>this.highscores[this.highscoreMaxLength-1].score)&&(console.log(\"new highscore, train ...\"),this.highscores.push({score:this.score,samples:Object(n[\"a\"])(this.samples)}),this.highscores.sort((function(t,e){return e.score-t.score})),this.highscores=this.highscores.slice(0,this.highscoreMaxLength),this.train()),this.samples=[],this.lastScore=this.score,this.score=0):this.score++},drawCarAndViewSquare:function(){this.ctx.save(),this.ctx.translate(this.car.x,this.car.y),this.ctx.rotate(this.car.angle),this.ctx.translate(-this.car.x,-this.car.y),this.ctx.fillRect(this.car.x-this.car.width/2,this.car.y-this.car.length/2,this.car.width,this.car.length),this.ctx.restore(),this.ctx.save(),this.ctx.translate(this.car.viewX,this.car.viewY),this.ctx.rotate(this.car.angle),this.ctx.translate(-this.car.viewX,-this.car.viewY),this.ctx.strokeStyle=\"#ff0000\",this.ctx.beginPath(),this.ctx.rect(this.car.viewX-this.ctxView.canvas.width/2,this.car.viewY-this.ctxView.canvas.height/2,this.ctxView.canvas.width,this.ctxView.canvas.height),this.ctx.stroke(),this.ctx.restore()},componentToHex:function(t){var e=t.toString(16);return 1==e.length?\"0\"+e:e},rgbToHex:function(t,e,i){return\"#\"+this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(i)},reducePixels:function(t,e){for(var i=[],s=0;s<e;s+=2)for(var a=0;a<e;a+=2){for(var r=[s*e+a,s*e+a+1,(s+1)*e+a,(s+1)*e+a+1],n=0,h=0,c=0,o=0;o<r.length;o++)n+=t[r[o]][0],h+=t[r[o]][1],c+=t[r[o]][2];n=Math.round(n/r.length),h=Math.round(h/r.length),c=Math.round(c/r.length),i.push([n,h,c])}return i},drawWorld:function(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.drawImage(this.imgWorld,0,0,this.ctx.canvas.width,this.ctx.canvas.height)},resetCar:function(){console.log(\"reset car\"),this.car.x=this.worldWidth/2*.333,this.car.y=this.worldHeight/2*1.5,this.car.angle=0}}},l=o,d=(i(\"5c0b\"),i(\"2877\")),u=Object(d[\"a\"])(l,a,r,!1,null,null,null),g=u.exports;s[\"a\"].config.productionTip=!1,new s[\"a\"]({render:function(t){return t(g)}}).$mount(\"#app\")},\"5c0b\":function(t,e,i){\"use strict\";i(\"9c0c\")},6:function(t,e){},7:function(t,e){},8:function(t,e){},\"9c0c\":function(t,e,i){}});","extractedComments":[]}